# –õ–û–ö–ê–õ–¨–ù–´–ô –ó–ê–ü–£–°–ö(–ë–ï–ó –î–û–ö–ï–†–ê) Auth Service

## üìå –û–ø–∏—Å–∞–Ω–∏–µ
–≠—Ç–æ—Ç —Å–µ—Ä–≤–∏—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –∏—Å–ø–æ–ª—å–∑—É—è PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ JWT –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

---

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### 1Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –ø—Ä–∏–º–µ—Ä:

```ini
POSTGRES_USER=postgres
POSTGRES_PASSWORD=MYpassword
POSTGRES_DB=auth-service
STORAGE_PATH=postgres://postgres:MYpassword@db:5432/auth-service?sslmode=disable
HTTP_SERVER_ADDRESS=0.0.0.0:8080
ACCESS_TOKEN_TTL=15m
REFRESH_TOKEN_TTL=720h
PUBLIC_KEY_PATH=public_key.pem
PRIVATE_KEY_PATH=private_key.pem
```

> **–í–∞–∂–Ω–æ:** –ó–∞–º–µ–Ω–∏—Ç–µ `MYpassword` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –æ—Ç PostgreSQL.

---

### 2Ô∏è‚É£ –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–°–æ–∑–¥–∞–π—Ç–µ –ø—É—Å—Ç—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `auth-service` –≤ PostgreSQL:
```sh
psql -U postgres -c "CREATE DATABASE \"auth-service\";"
```
> –ï—Å–ª–∏ –±–∞–∑–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —ç—Ç–æ—Ç —à–∞–≥ –º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å.

---

### 3Ô∏è‚É£ –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–π

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ç–∞–±–ª–∏—Ü:
```sh
make pg-migrate
```

> –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `make`, –∏–Ω–∞—á–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—Ä—É—á–Ω—É—é.

---

### 4Ô∏è‚É£ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ JWT

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º **–ø—Ä–∏–≤–∞—Ç–Ω—ã–π** –∏ **–ø—É–±–ª–∏—á–Ω—ã–π** –∫–ª—é—á–∏ —Å –ø–æ–º–æ—â—å—é OpenSSL:

```sh
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞
openssl genpkey -algorithm RSA -out private_key.pem -pkeyopt rsa_keygen_bits:2048
```
```sh
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –∫–ª—é—á–∞
openssl rsa -pubout -in private_key.pem -out public_key.pem
```

> –≠—Ç–∏ –∫–ª—é—á–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ JWT-—Ç–æ–∫–µ–Ω–æ–≤.

---

### 5Ô∏è‚É£ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –∫–æ–º–∞–Ω–¥–æ–π:
```sh
make server-run
```
–ò–ª–∏ –≤ —Å–ª—É—á–∞–∏ "make: *** No rule to make target 'server-run'.  Stop."
```sh
make -f Makefile server-run
```
---

> –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:8080`

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- **Go** ‚Äì –≤–µ—Ä—Å–∏—è 1.23.1
- **PostgreSQL** ‚Äì –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **JWT** ‚Äì –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Makefile** ‚Äì –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á
- **OpenSSL** ‚Äì –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π

---
